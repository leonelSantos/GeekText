{"ast":null,"code":"var _jsxFileName = \"/Users/retina15/Desktop/GeekText/frontend/src/components/product/ProductDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport Loader from '../layout/Loader';\nimport MetaData from '../layout/MetaData';\nimport ListReviews from '../review/ListReviews';\nimport { useAlert } from 'react-alert';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProductDetails, newReview, clearErrors } from '../../actions/productActions'; //import { getUserDetails } from '../../actions/userActions'\n//import { addItemToCart } from '../../actions/cartActions'\n\nimport { NEW_REVIEW_RESET } from '../../constants/productConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductDetails = ({\n  match\n}) => {\n  _s();\n\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const formData = new FormData();\n  const {\n    loading,\n    error,\n    product\n  } = useSelector(state => state.productDetails);\n  const {\n    user\n  } = useSelector(state => state.auth); //const{orders} = useSelector(state => state.orderDetails);\n  //const {userdetails } = useSelector(state => state.userDetails)\n\n  const {\n    error: reviewError,\n    success\n  } = useSelector(state => state.newReview);\n  useEffect(() => {\n    dispatch(getProductDetails(match.params.id));\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (reviewError) {\n      alert.error(reviewError);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success('Review posted successfuly');\n      dispatch({\n        type: NEW_REVIEW_RESET\n      });\n    }\n  }, [dispatch, error, alert, reviewError, match.params.id, success]);\n\n  function setUserRatings() {\n    const stars = document.querySelectorAll('.star');\n    stars.forEach((star, index) => {\n      star.starValue = index + 1;\n      ['click', 'mouseover', 'mouseout'].forEach(function (e) {\n        star.addEventListener(e, showRatings);\n      });\n    });\n\n    function showRatings(e) {\n      stars.forEach((star, index) => {\n        if (e.type === 'click') {\n          if (index < this.starValue) {\n            star.classList.add('orange');\n            setRating(this.starValue);\n          } else {\n            star.classList.remove('orange');\n          }\n        }\n\n        if (e.type === 'mouseover') {\n          if (index < this.starValue) {\n            star.classList.add('yellow');\n          } else {\n            star.classList.remove('yellow');\n          }\n        }\n\n        if (e.type === 'mouseout') {\n          star.classList.remove('yellow');\n        }\n      });\n    }\n  }\n  /*function orderDelivered(){\r\n        var delivered = true;\r\n        if(orders.orderStatus === \"Delivered\" )\r\n      delivered = true;\r\n      else\r\n      delivered = false;\r\n        return delivered;\r\n  }*/\n\n\n  function getIdentification() {\n    //handling nickname choices\n    var nickName = \"Anonymous\";\n    var value = document.getElementById('input').value;\n\n    if (value === \"nickname\") {\n      nickName = user.nickname;\n    }\n\n    document.getElementById('output').innerHTML = nickName;\n    formData.set('nickname', nickName);\n  }\n\n  const reviewHandler = () => {\n    formData.set('rating', rating);\n    formData.set('comment', comment);\n    formData.set('productId', match.params.id);\n    dispatch(newReview(formData));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(MetaData, {\n        title: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row f-flex justify-content-around\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-5 img-fluid\",\n          id: \"product_image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.cover,\n            alt: \"sdf\",\n            height: \"500\",\n            width: \"500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-lg-5 mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: product.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: product.authorsBooks,\n              children: [\"Author: \", product.author]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"product_id\",\n            children: [\"Product # \", product._id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating-outer\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rating-inner\",\n              style: {\n                width: `${product.ratings / 5 * 100}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"product_price\",\n            children: [\"$\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stockCounter d-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn btn-danger minus\",\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control count d-inline\",\n              value: \"1\",\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn btn-primary plus\",\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            id: \"cart_btn\",\n            className: \"btn btn-primary d-inline ml-4\",\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              id: \"stock_status\",\n              children: \"In Stock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"tabs\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"tabs\",\n              type: \"radio\",\n              id: \"tab-1\",\n              class: \"input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"tab-1\",\n              class: \"label\",\n              children: \"About the Author\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"panel\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"lato\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"About the Author\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: product.authorDesc\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"tabs\",\n              type: \"radio\",\n              id: \"tab-2\",\n              class: \"input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"tab-2\",\n              class: \"label\",\n              children: \"Book Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"panel\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"lato\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Book Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: product.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"tabs\",\n              type: \"radio\",\n              id: \"tab-3\",\n              class: \"input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"tab-3\",\n              class: \"label\",\n              children: \"Book Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"panel\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"lato\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Book Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Genre:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 32\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    children: product.genre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 46\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Publisher:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 32\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    children: product.publisher\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 50\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Publication Date:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 32\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    children: product.date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"product_seller mb-3\",\n            children: [\"Sold by: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: product.publisher\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 50\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), user ? /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"review_btn\",\n            type: \"button\",\n            className: \"btn btn-primary mt-4\",\n            \"data-toggle\": \"modal\",\n            \"data-target\": \"#ratingModal\",\n            onClick: setUserRatings,\n            children: \"Submit Your Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 23\n          }, this) //if user login display the botton //if user purchased the book the order status must be delivered\n          :\n          /*#__PURE__*/\n          _jsxDEV(\"div\", {\n            className: \"alert alert-dager mt-5\",\n            type: \"alert\",\n            children: \" You can only comment about a book that you bought, Login to post your review. \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-2 mb-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rating w-50\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal fade\",\n                id: \"ratingModal\",\n                tabIndex: \"-1\",\n                role: \"dialog\",\n                \"aria-labelledby\": \"ratingModalLabel\",\n                \"aria-hidden\": \"true\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-dialog\",\n                  role: \"document\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"modal-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal-header\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"modal-title\",\n                        id: \"ratingModalLabel\",\n                        children: \"Submit Review\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 208,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"close\",\n                        \"data-dismiss\": \"modal\",\n                        \"aria-label\": \"Close\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          \"aria-hidden\": \"true\",\n                          children: \"\\xD7\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 210,\n                          columnNumber: 41\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal-body\",\n                      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"stars\",\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"star\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fa fa-star\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 216,\n                            columnNumber: 62\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 216,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"star\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fa fa-star\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 217,\n                            columnNumber: 62\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 217,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"star\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fa fa-star\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 218,\n                            columnNumber: 62\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 218,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"star\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fa fa-star\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 219,\n                            columnNumber: 62\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"star\",\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"fa fa-star\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 220,\n                            columnNumber: 62\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 220,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                        name: \"review\",\n                        id: \"review\",\n                        className: \"form-control mt-3\",\n                        value: comment,\n                        onChange: e => setComment(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 223,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"container\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                          children: \" Select Identification \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 229,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                          id: \"input\",\n                          onChange: () => getIdentification(),\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"Select: \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 232,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"nickname\",\n                            children: \"Nickname \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 233,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"anonymous\",\n                            children: \"Anonymous\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 234,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 231,\n                          columnNumber: 37\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          id: \"output\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 236,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn my-3 float-right review-btn px-4 text-white\",\n                        onClick: reviewHandler,\n                        \"data-dismiss\": \"modal\",\n                        \"aria-label\": \"Close\",\n                        children: \"Submit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 241,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), product.reviews && product.reviews.length > 0 && /*#__PURE__*/_jsxDEV(ListReviews, {\n        reviews: product.reviews\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 12\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductDetails, \"nTzMKMKMlnSzNatcPKP+IeeGmtk=\", false, function () {\n  return [useDispatch, useAlert, useSelector, useSelector, useSelector];\n});\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["/Users/retina15/Desktop/GeekText/frontend/src/components/product/ProductDetails.js"],"names":["React","Fragment","useState","useEffect","Loader","MetaData","ListReviews","useAlert","useDispatch","useSelector","getProductDetails","newReview","clearErrors","NEW_REVIEW_RESET","ProductDetails","match","rating","setRating","comment","setComment","dispatch","alert","formData","FormData","loading","error","product","state","productDetails","user","auth","reviewError","success","params","id","type","setUserRatings","stars","document","querySelectorAll","forEach","star","index","starValue","e","addEventListener","showRatings","classList","add","remove","getIdentification","nickName","value","getElementById","nickname","innerHTML","set","reviewHandler","name","cover","title","authorsBooks","author","_id","width","ratings","price","authorDesc","description","genre","publisher","date","target","reviews","length"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport Loader from '../layout/Loader'\r\nimport MetaData from '../layout/MetaData'\r\nimport ListReviews from '../review/ListReviews'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getProductDetails, newReview, clearErrors } from '../../actions/productActions'\r\n//import { getUserDetails } from '../../actions/userActions'\r\n//import { addItemToCart } from '../../actions/cartActions'\r\nimport { NEW_REVIEW_RESET } from '../../constants/productConstants'\r\n\r\nconst ProductDetails = ({ match }) => {\r\n\r\n    const [rating, setRating] = useState(0);\r\n    const [comment, setComment] = useState('');\r\n\r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n    const formData = new FormData();\r\n    \r\n\r\n    const {loading, error, product } = useSelector(state => state.productDetails);\r\n    const {user } = useSelector(state => state.auth);\r\n    //const{orders} = useSelector(state => state.orderDetails);\r\n    //const {userdetails } = useSelector(state => state.userDetails)\r\n    const { error: reviewError, success } = useSelector(state => state.newReview);\r\n\r\n    useEffect(() => {\r\n        dispatch(getProductDetails(match.params.id))\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n        if (reviewError) {\r\n            alert.error(reviewError);\r\n            dispatch(clearErrors())\r\n        }\r\n        if (success) {\r\n            alert.success('Review posted successfuly')\r\n            dispatch({type: NEW_REVIEW_RESET})\r\n        }\r\n    }, [dispatch,error, alert, reviewError, match.params.id, success])\r\n\r\n    function setUserRatings() {\r\n        const stars = document.querySelectorAll('.star');\r\n\r\n        stars.forEach((star, index) => {\r\n            star.starValue = index + 1;\r\n\r\n            ['click', 'mouseover', 'mouseout'].forEach(function (e) {\r\n                star.addEventListener(e, showRatings);\r\n            })\r\n        })\r\n\r\n        function showRatings(e) {\r\n            stars.forEach((star, index) => {\r\n                if (e.type === 'click') {\r\n                    if (index < this.starValue) {\r\n                        star.classList.add('orange');\r\n\r\n                        setRating(this.starValue)\r\n                    } else {\r\n                        star.classList.remove('orange')\r\n                    }\r\n                }\r\n\r\n                if (e.type === 'mouseover') {\r\n                    if (index < this.starValue) {\r\n                        star.classList.add('yellow');\r\n                    } else {\r\n                        star.classList.remove('yellow')\r\n                    }\r\n                }\r\n\r\n                if (e.type === 'mouseout') {\r\n                    star.classList.remove('yellow')\r\n                }\r\n            })\r\n        }\r\n    }\r\n    /*function orderDelivered(){\r\n\r\n        var delivered = true;\r\n\r\n        if(orders.orderStatus === \"Delivered\" )\r\n        delivered = true;\r\n        else\r\n        delivered = false;\r\n\r\n        return delivered;\r\n    }*/\r\n   \r\n    function getIdentification(){//handling nickname choices\r\n        var nickName = \"Anonymous\";    \r\n        var value = document.getElementById('input').value;\r\n\r\n        if(value === \"nickname\"){\r\n             nickName = user.nickname;\r\n        }\r\n        document.getElementById('output').innerHTML= nickName;\r\n        formData.set('nickname', nickName);\r\n    }\r\n     \r\n    const reviewHandler = () => {\r\n\r\n        formData.set('rating', rating);\r\n        formData.set('comment', comment);\r\n        formData.set('productId', match.params.id);\r\n\r\n        dispatch(newReview(formData));\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n       {loading ? <Loader /> : (\r\n           <Fragment>\r\n           <MetaData title={product.name}/>\r\n                <div className=\"row f-flex justify-content-around\">\r\n        <div className=\"col-12 col-lg-5 img-fluid\" id=\"product_image\">\r\n        <img\r\n            src= {product.cover} alt=\"sdf\" height=\"500\" width=\"500\"  /> \r\n        </div>\r\n\r\n        <div className=\"col-12 col-lg-5 mt-5\">\r\n            <h3>{product.title}</h3>\r\n            <h6 className=\"mt-3\">\r\n                 <a href={product.authorsBooks}>Author: {product.author}</a> \r\n            </h6>\r\n            <p id=\"product_id\">Product # {product._id}</p>\r\n\r\n            <hr/>\r\n\r\n            <div className=\"rating-outer\">\r\n                <div className=\"rating-inner\" style={{ width: `${(product.ratings / 5 ) * 100 }%` }}></div>\r\n            </div>\r\n\r\n            <hr/>\r\n\r\n            <p id=\"product_price\">${product.price}</p>\r\n            <div className=\"stockCounter d-inline\">\r\n                <span className=\"btn btn-danger minus\">-</span>\r\n\r\n                <input type=\"number\" className=\"form-control count d-inline\" value=\"1\" readOnly />\r\n\r\n                <span className=\"btn btn-primary plus\">+</span>\r\n            </div>\r\n             <button type=\"button\" id=\"cart_btn\" className=\"btn btn-primary d-inline ml-4\">Add to Cart</button>\r\n\r\n            <hr/>\r\n\r\n            <p>Status: <span id=\"stock_status\">In Stock</span></p>\r\n\r\n            <hr/>\r\n                <div class=\"tabs\">\r\n\r\n                    <input name=\"tabs\" type=\"radio\" id=\"tab-1\" class=\"input\"/>\r\n                    <label for=\"tab-1\" class=\"label\">About the Author</label>\r\n                    <div class=\"panel\">\r\n                        <div class =\"lato\">\r\n                            <h5>About the Author</h5>\r\n                            <p>{product.authorDesc}</p>\r\n                        </div>\r\n                    </div>\r\n                \r\n                    <input name=\"tabs\" type=\"radio\" id=\"tab-2\" class=\"input\"/>\r\n                    <label for=\"tab-2\" class=\"label\">Book Description</label>\r\n                    <div class=\"panel\">\r\n                        <div class =\"lato\">\r\n                            <h5>Book Description</h5>\r\n                            <p>{product.description}</p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <input name=\"tabs\" type=\"radio\" id=\"tab-3\" class=\"input\"/>\r\n                    <label for=\"tab-3\" class=\"label\">Book Details</label>\r\n                    <div class=\"panel\">\r\n                        <div class =\"lato\">\r\n                            <h5>Book Details</h5>\r\n                            <p><b>Genre:</b> <i>{product.genre}</i></p>\r\n                            <p><b>Publisher:</b> <i>{product.publisher}</i></p>\r\n                            <p><b>Publication Date:</b> <i>{product.date}</i></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            <hr/>\r\n            <p id=\"product_seller mb-3\">Sold by: <strong>{product.publisher}</strong></p>\r\n           \r\n             { user ? <button id=\"review_btn\" type=\"button\" className=\"btn btn-primary mt-4\" data-toggle=\"modal\" data-target=\"#ratingModal\"\r\n             onClick={setUserRatings}>\r\n                        Submit Your Review\r\n            </button>//if user login display the botton //if user purchased the book the order status must be delivered\r\n            :\r\n               <div className=\"alert alert-dager mt-5\" type='alert'> You can only comment about a book that you bought, Login to post your review. </div>\r\n            } \r\n            \r\n            \r\n            <div className=\"row mt-2 mb-5\">\r\n                <div className=\"rating w-50\">\r\n\r\n                    <div className=\"modal fade\" id=\"ratingModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"ratingModalLabel\" aria-hidden=\"true\">\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h5 className=\"modal-title\" id=\"ratingModalLabel\">Submit Review</h5>\r\n                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <span aria-hidden=\"true\">&times;</span>\r\n                                    </button>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n\r\n                                    <ul className=\"stars\" >\r\n                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                    </ul>\r\n\r\n                                    <textarea name=\"review\" id=\"review\" className=\"form-control mt-3\"\r\n                                    value={comment}onChange={(e) => setComment(e.target.value)}>\r\n\r\n                                    </textarea>\r\n                                    \r\n                                    <div className=\"container\" >\r\n                                    <h3> Select Identification </h3>\r\n                                    \r\n                                    <select id=\"input\" onChange={()=>getIdentification()}>\r\n                                    <option >Select: </option>\r\n                                    <option value=\"nickname\">Nickname </option>\r\n                                    <option value=\"anonymous\">Anonymous</option>\r\n                                    </select>\r\n                                    <div id=\"output\">\r\n\r\n                                    </div>\r\n                                    </div>\r\n\r\n                                    <button className=\"btn my-3 float-right review-btn px-4 text-white\" \r\n                                    onClick= {reviewHandler}\r\n                                    data-dismiss=\"modal\" \r\n                                    aria-label=\"Close\">Submit</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                    \r\n             </div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n        {product.reviews && product.reviews.length > 0 && (\r\n                        <ListReviews reviews={product.reviews} />\r\n                    )}\r\n                     \r\n         </Fragment>\r\n       )}\r\n    </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductDetails\r\n"]},"metadata":{},"sourceType":"module"}